<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸŒªï¸ğŸ’€ğŸ’GOD DNS BY AMIR - USA REG MASTERğŸ’ğŸ’€ğŸŒªï¸</title>
  <script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      min-height: 10vh;
      background: #000;
      overflow-x: auto;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      font-family: 'Orbitron', sans-serif;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: radial-gradient(circle at center, rgba(255, 0, 150, 0.2), rgba(0, 255, 255, 0.1), rgba(0, 0, 0, 0));
      animation: waveBG 10s infinite alternate ease-in-out;
      z-index: 0;
      pointer-events: none;
    }

    @keyframes waveBG {
      0% { transform: scale(1); opacity: 0.5; }
      100% { transform: scale(1.2); opacity: 1; }
    }

    .header {
  text-align: center;
  padding: 40px 20px 20px;
  font-size: 2.8em;
  font-weight: 600;
  font-family: 'Orbitron', sans-serif; /* Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙÙˆÙ†Øª Orbitron Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† */
  background: linear-gradient(
    90deg,
    #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
    #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
    #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
    #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
    #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
    #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
    #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
    #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
    #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
    #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
    #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
    #ff0022, #ff0011, #ff0000
  );
  background-size: 1200% 1000%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 10s infinite linear;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px; /* ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ù…ØªÙ† Ùˆ Ø§Ù…ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ */
}

    @keyframes rgbText {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    .login-box, .dns-box, .guide-box, .admin-dashboard {
      max-width: 360px;
      margin: 30px auto;
      background: #222;
      padding: 25px;
      border-radius: 14px;
      box-shadow: 0 0 20px #00ffcc66;
      text-align: center;
      transition: opacity 0.4s ease, transform 0.4s ease;
    }

    .login-box.hidden, .dns-box.hidden, .admin-dashboard.hidden {
      opacity: 0;
      transform: translateY(20px);
      display: none;
    }

    .login-box h2, .guide-box h2, .admin-dashboard h2 {
      margin-bottom: 18px;
      font-size: 1.8em;
    }

    .login-box input {
      width: 95%;
      padding: 10px 14px;
      margin: 12px 0;
      font-size: 1.05em;
      border: none;
      border-radius: 8px;
      outline: none;
      font-family: 'Orbitron', monospace;
      transition: box-shadow 0.3s;
    }

    .login-box input:focus {
      box-shadow: 0 0 10px #00ffcc;
      border: 1px solid #00ffcc;
    }

    .btn-login, .btn-generate, .sort-btn, .copy-btn {
      padding: 14px 32px;
      font-size: 1.25em;
      background: linear-gradient(
        90deg,
        #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
        #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
        #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
        #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
        #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
        #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
        #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
        #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
        #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
        #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
        #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
        #ff0022, #ff0011, #ff0000
      );
      background-size: 1400% 1200%;
      color: #000;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 700;
      transition: background-position 3s ease, box-shadow 0.3s ease;
      animation: rgbButton 10s ease infinite;
      margin-top: 14px;
      user-select: none;
    }

    @keyframes rgbButton {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .btn-login:hover, .btn-generate:hover, .sort-btn:hover, .copy-btn:hover {
      box-shadow: 0 0 12px #00ffee, 0 0 20px #ff00ff, 0 0 30px #00ffee inset;
    }

    .error-msg, .success-msg {
      margin-top: 12px;
      font-weight: 600;
      font-size: 1.1em;
      padding: 10px 15px;
      border-radius: 8px;
      display: none;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.4s ease, transform 0.4s ease;
      font-family: 'Orbitron', monospace;
    }

    .success-msg {
      color: #00ffcc;
      background: rgba(0, 255, 204, 0.15);
      box-shadow: 0 0 20px #00ffccaa, inset 0 0 10px #00ffaa55;
      border: 1px solid #00ffcc33;
    }

    .error-msg {
      color: #ff3333;
      background: rgba(255, 51, 51, 0.15);
      box-shadow: 0 0 20px #ff3333aa, inset 0 0 10px #ff000055;
      border: 1px solid #ff333333;
    }

    .error-msg.show, .success-msg.show {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .success-msg::before, .error-msg::before {
      display: inline-block;
      margin-right: 8px;
      animation: pulseIcon 1.5s infinite;
    }

    .success-msg::before { content: "âœ…"; }
    .error-msg::before { content: "âŒ"; }

    @keyframes pulseIcon {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-6px); }
      40%, 80% { transform: translateX(6px); }
    }

    .error-msg.shake {
      animation: shake 0.3s ease;
    }

    .dns-entry {
      background: #111;
      border-radius: 10px;
      padding: 14px 18px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 0 15px #00ffcc55;
      font-size: 0.85em;
      font-weight: 600;
      letter-spacing: 0.03em;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .dns-entry:hover {
      box-shadow: 0 0 20px #0ff, 0 0 30px #ff00ff, inset 0 0 10px #0ff8;
      transform: scale(1.02);
    }

    .dns-info {
      flex: 1;
      text-align: left;
      font-weight: 600;
      font-family: 'Orbitron', monospace;
    }

    .dns-info strong { color: #ff00cc; }
    .dns-info span {
      margin-left: 8px;
      display: block;
      font-size: 1em;
      font-weight: 700;
      background: linear-gradient(
        90deg,
        #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
        #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
        #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
        #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
        #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
        #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
        #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
        #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
        #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
        #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
        #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
        #ff0022, #ff0011, #ff0000
      );
      background-size: 400% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rgbText 8s infinite linear;
    }

/* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú†Ú©â€ŒØ¨Ø§Ú©Ø³ Ùˆ Ù„ÛŒØ¨Ù„ */
.remember-me-container {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 12px 0;
}

.custom-checkbox {
  appearance: none;
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  background: #222;
  border: 2px solid #00ffcc;
  border-radius: 5px;
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
}

.custom-checkbox:checked {
  background: #00ffcc;
  border-color: #ff00cc;
  box-shadow: 0 0 10px #00ffcc, 0 0 15px #ff00cc;
}

.custom-checkbox:checked::after {
  content: "âœ”";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: #000;
  font-size: 14px;
  font-weight: bold;
}

.custom-checkbox:hover {
  box-shadow: 0 0 8px #00ffcc66, 0 0 12px #ff00cc66;
}

.remember-me-label {
  color: #00ffcc;
  font-size: 0.95em;
  margin-right: 10px;
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(
    90deg,
    #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
    #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
    #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
    #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
    #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
    #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
    #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
    #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
    #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
    #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
    #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
    #ff0022, #ff0011, #ff0000
  );
  background-size: 400% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 8s infinite linear;
  cursor: pointer;
  transition: text-shadow 0.3s ease;
}

.remember-me-label:hover {
  text-shadow: 0 0 8px #00ffcc, 0 0 12px #ff00cc;
}

#isp-value {
  margin-top: 10px;
  font-size: 0.9em;
  font-weight: 600;
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(
    90deg,
    #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
    #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
    #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
    #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
    #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
    #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
    #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
    #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
    #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
    #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
    #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
    #ff0022, #ff0011, #ff0000
  );
  background-size: 400% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 8s infinite linear;
}

    .copy-btn {
      padding: 6px 12px;
      background: #00ffee;
      color: #000;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
    }

    .copy-btn:hover { background: #33ffff; }

.vote-btn {
  padding: 6px 12px;
  background: #00ffee; /* Ù‡Ù…ÙˆÙ† Ø±Ù†Ú¯ Ø¯Ú©Ù…Ù‡ Ú©Ù¾ÛŒ */
  color: #000; /* Ø±Ù†Ú¯ Ù…ØªÙ† Ù…Ø´Ú©ÛŒ */
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s;
}

.vote-btn:hover {
  background: #33ffff; /* Ù‡Ù…ÙˆÙ† Ø§ÙÚ©Øª Ù‡Ø§ÙˆØ± Ø¯Ú©Ù…Ù‡ Ú©Ù¾ÛŒ */
}

    .sort-btn {
      margin: 10px auto;
      padding: 8px 16px;
      font-size: 1em;
      background: #444;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .sort-btn:hover { background: #555; }

    .guide-box h2 {
      animation: rgbText 5s infinite linear;
      background-size: 1600% 1400%;
    }

    .guide-item {
      margin: 8px 0;
      color: #aaffaa;
      animation: rgbText 8s infinite linear;
      background: linear-gradient(
        90deg,
        #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
        #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
        #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
        #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
        #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
        #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
        #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
        #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
        #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
        #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
        #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
        #ff0022, #ff0011, #ff0000
      );
      background-size: 1600% 1400%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

.version-text {
  font-size: 0.9em;
  margin-top: 15px;
  color: #00ffcc;
  font-family: 'Orbitron', sans-serif;
  background: linear-gradient(
    90deg,
    #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
    #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
    #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
    #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
    #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
    #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
    #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
    #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
    #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
    #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
    #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
    #ff0022, #ff0011, #ff0000
  );
  background-size: 400% 200%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 8s infinite linear;
  text-align: center;
}

.emoji {
  font-family: 'Segoe UI Emoji', 'Noto Color Emoji', 'Orbitron', sans-serif;
  background: linear-gradient(
    90deg,
    #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
    #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
    #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
    #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
    #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
    #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
    #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
    #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
    #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
    #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
    #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
    #ff0022, #ff0011, #ff0000
  );
  background-size: 1200% 1000%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 10s infinite linear;
  display: inline-block; /* Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø±Ù†Ø¯Ø± ØµØ­ÛŒØ­ */
}

.creator-box {
  background: linear-gradient(135deg, #1a1a2e 0%, #2c2c54 100%);
  border-radius: 18px;
  padding: 28px;
  max-width: 440px;
  margin: 40px auto;
  box-shadow: 0 8px 24px rgba(0, 255, 204, 0.25), 0 0 35px rgba(255, 0, 204, 0.2);
  color: #e6e6e6;
  font-family: 'Orbitron', sans-serif;
  position: relative;
  overflow: hidden;
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}

.creator-box:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 30px rgba(0, 255, 204, 0.35), 0 0 45px rgba(255, 0, 204, 0.3);
}

.creator-box::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(circle at 15% 25%, rgba(0, 255, 204, 0.2), transparent 65%);
  z-index: 0;
  pointer-events: none;
  animation: pulseGlow 10s ease-in-out infinite;
}

@keyframes pulseGlow {
  0% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
  100% { opacity: 0.5; transform: scale(1); }
}

.creator-header {
  text-align: center;
  position: relative;
  z-index: 1;
}

.creator-header h2 {
  margin: 0;
  font-size: 30px;
  font-weight: 700;
  background: linear-gradient(
    90deg,
    #00ffcc, #ff00cc, #00ff88, #ff00cc
  );
  background-size: 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 5s ease infinite;
}

.creator-subtitle {
  margin: 10px 0;
  font-size: 16px;
  color: #b3b3b3;
  font-weight: 500;
}

.divider {
  border: 1px solid #00ffcc44;
  margin: 14px 0;
  transition: box-shadow 0.3s ease;
}

.divider:hover {
  box-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
}

.creator-info {
  line-height: 1.9;
  font-size: 15px;
  position: relative;
  z-index: 1;
}

.creator-info p {
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}

.creator-info .emoji {
  font-size: 18px;
  min-width: 24px;
  text-align: center;
}

.creator-info strong {
  color: #00ffcc;
  font-weight: 600;
  min-width: 120px;
}

.creator-info a {
  color: #00ff88;
  text-decoration: none;
  transition: color 0.3s ease, text-shadow 0.3s ease;
}

.creator-info a:hover {
  color: #33ffff;
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.6);
}

.creator-roles {
  margin-top: 14px;
  font-size: 14px;
  color: #cccccc;
  text-align: center;
  background: linear-gradient(
    90deg,
    #ff00cc, #00ffcc, #ff00cc, #00ff88
  );
  background-size: 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: rgbText 7s ease infinite;
}

.creator-cta {
  text-align: center;
  margin-top: 24px;
  position: relative;
  z-index: 1;
}

.cta-button {
  display: inline-block;
  background: linear-gradient(
    90deg,
    #00ffcc, #ff00cc, #00ff88
  );
  background-size: 300%;
  color: #1a1a2e;
  padding: 14px 28px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 700;
  font-size: 16px;
  transition: background-position 0.5s ease, box-shadow 0.3s ease, transform 0.3s ease;
  animation: rgbButton 3.5s ease infinite;
}

.cta-button:hover {
  background-position: 100% 0;
  box-shadow: 0 0 15px rgba(0, 255, 204, 0.8), 0 0 25px rgba(255, 0, 204, 0.6);
  transform: scale(1.05);
}

@keyframes rgbText {
  0% { background-position: 0% 50%; }
  100% { background-position: 400% 50%; }
}

@keyframes rgbButton {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}

/* Responsive Design */
@media (max-width: 480px) {
  .creator-box {
    max-width: 95%;
    padding: 20px;
  }
  .creator-header h2 {
    font-size: 26px;
  }
  .creator-subtitle {
    font-size: 14px;
  }
  .creator-info {
    font-size: 14px;
  }
  .creator-info strong {
    min-width: 100px;
  }
  .creator-info .emoji {
    font-size: 16px;
    min-width: 20px;
  }
  .cta-button {
    padding: 12px 24px;
    font-size: 14px;
  }
}
    .loading-container {
      width: 100%;
      background: #222;
      border-radius: 12px;
      margin: 25px 0 10px;
      height: 20px;
      box-shadow: inset 0 0 8px #00ffcc88;
      overflow: hidden;
      display: none;
    }

    .loading-bar {
      height: 100%;
      width: 0%;
      transition: width 3s linear;
      background: linear-gradient(
        90deg,
        #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700,
        #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00,
        #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00,
        #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11,
        #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99,
        #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff,
        #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff,
        #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff,
        #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff,
        #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb,
        #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033,
        #ff0022, #ff0011, #ff0000
      );
      background-size: 500% 100%;
      animation: moveColors 0.5s linear infinite;
    }

    @keyframes moveColors {
      0% { background-position: 0% 50%; }
      100% { background-position: 100% 50%; }
    }

    #ping-graph {
      width: 100%;
      height: 250px;
      margin-top: 35px;
      display: block;
    }

    canvas#particles {
      pointer-events: none;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <div class="header">
  <span class="emoji">ğŸŒªï¸ğŸ’€ğŸ’</span> GOD DNS BY AMIR - USA REG MASTER <span class="emoji">ğŸŒªï¸ğŸ’€ğŸ’</span>
</div>

  <div id="near-expire-list" style="margin-top: 20px;"></div>

  <div class="admin-dashboard hidden" id="admin-dashboard">
    <button onclick="backupData()" class="copy-btn" style="margin-bottom: 15px;">ğŸ’¾ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¨Ú©Ø§Ù¾ Ú©Ø§Ù…Ù„</button>
    <h2>ğŸ“Š Admin Login Dashboard</h2>
    <div id="user-stats" style="margin: 10px 0; color: #fff; font-size: 0.95em;">
      ğŸ‘¥ Total Users: <span id="total-users">Loading...</span><br>
      ğŸŸ¢ <span style="color:#00ff88;">Active Subscriptions:</span> <span id="active-users">-</span> |
      ğŸ”´ <span style="color:#ff4444;">Expired:</span> <span id="expired-users">-</span> |
      ğŸŸ  <span style="color:orange;">Near-expire:</span> <span id="near-expired-count">-</span>
    </div>
    <div style="margin-top:10px;">
      ğŸ”„ Active Subscription Percentage:
      <div style="background:#333;border-radius:6px;height:14px;width:100%;margin-top:6px;">
        <div id="active-bar" style="background:#00ff88;height:14px;width:0%;border-radius:6px;"></div>
      </div>
    </div>
    <div id="admin-notifs" style="background:#111;padding:15px;border-radius:10px;margin-top:20px;color:#fff;">
      <h3 style="color:#ffaa00;">ğŸ”” Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±Ø§Ù†:</h3>
      <div id="notif-list">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
    </div>
    <canvas id="subscriptionChart" width="250" height="250" style="margin-top: 15px;"></canvas>
    <h3 style="color:#00ffee;margin-top:20px;">ğŸ•’ Ù†Ù…ÙˆØ¯Ø§Ø± ÙˆØ±ÙˆØ¯ Ø¨Ù‡ ØªÙÚ©ÛŒÚ© Ø³Ø§Ø¹Øª</h3>
    <canvas id="hourChart" width="400" height="200"></canvas>
    <div style="margin-top:20px;">
      <label>Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²Ù‡ ØªØ§Ø±ÛŒØ®:</label><br>
      <input type="date" id="from-date"> ØªØ§
      <input type="date" id="to-date">
      <button onclick="filterStats()" class="copy-btn" style="margin-top:5px;">ğŸ” ÙÛŒÙ„ØªØ±</button>
      <canvas id="rangeChart" width="400" height="200" style="margin-top:20px;"></canvas>
    </div>
    <div id="dashboard-content" style="color:#ccc;font-size:0.9em;"></div>
    <hr style="border: 0.5px solid #444; margin: 15px 0;">
    <h3 style="color:#00ffee;">ğŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3>
    <div id="user-manager" style="color:#fff; font-size:0.85em;"></div>
    <button onclick="showLogDetails()" class="copy-btn">ğŸ“„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª Ù„Ø§Ú¯â€ŒÙ‡Ø§</button>
    <button onclick="exportLogs('json')" class="copy-btn">â¬‡ï¸ Ø®Ø±ÙˆØ¬ÛŒ JSON</button>
    <button onclick="exportLogs('csv')" class="copy-btn">â¬‡ï¸ Ø®Ø±ÙˆØ¬ÛŒ CSV</button>
    <div id="log-details" style="margin-top:15px; display:none;"></div>
  </div>

  <audio id="click-sound" src="https://github.com/amir878778/Sound-god-dns/raw/refs/heads/main/click.mp3" preload="auto"></audio>
  <audio id="intro-sound" src="https://github.com/amir878778/Sound-god-dns/raw/refs/heads/main/intro.mp3" preload="auto"></audio>
  <audio id="welcome-sound" src="https://github.com/amir878778/Sound-god-dns/raw/refs/heads/main/welcome.mp3" preload="auto" autoplay></audio>

<div class="login-box" id="login-box">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Username" autocomplete="off"/>
  <input type="password" id="password" placeholder="Password" autocomplete="off"/>
  <div class="remember-me-container">
    <input type="checkbox" id="remember-me" class="custom-checkbox">
    <label for="remember-me" class="remember-me-label">Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±</label>
  </div>
  <button class="btn-login" onclick="login()">Enter</button>
  <p class="success-msg" id="success-msg">ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ùˆ Ù¾Ø³ÙˆØ±Ø¯ Ø¯Ø±Ø³Øª ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡ âœ…</p>
  <p id="expire-timer" style="font-weight:bold;display:none;margin-top:10px;font-size:1em;"></p>
  <p id="date-range" style="color:#0ff;font-size:0.9em;display:none;"></p>
  <p id="expire-warning" style="color:#ff0;font-weight:bold;display:none;"></p>
  <p class="error-msg" id="error-msg">Incorrect username or password!</p>
  <p class="version-text" style="font-size: 0.9em; margin-top: 15px; color: #00ffcc; font-family: 'Orbitron', sans-serif; background: linear-gradient(90deg, #ff0000, #ff1100, #ff2200, #ff3300, #ff4400, #ff5500, #ff6600, #ff7700, #ff8800, #ff9900, #ffaa00, #ffbb00, #ffcc00, #ffdd00, #ffee00, #ffff00, #eeff00, #ddff00, #ccff00, #bbff00, #aaff00, #99ff00, #88ff00, #77ff00, #66ff00, #55ff00, #44ff00, #33ff00, #22ff00, #11ff00, #00ff00, #00ff11, #00ff22, #00ff33, #00ff44, #00ff55, #00ff66, #00ff77, #00ff88, #00ff99, #00ffaa, #00ffbb, #00ffcc, #00ffdd, #00ffee, #00ffff, #00eeff, #00ddff, #00ccff, #00bbff, #00aaff, #0099ff, #0088ff, #0077ff, #0066ff, #0055ff, #0044ff, #0033ff, #0022ff, #0011ff, #0000ff, #1100ff, #2200ff, #3300ff, #4400ff, #5500ff, #6600ff, #7700ff, #8800ff, #9900ff, #aa00ff, #bb00ff, #cc00ff, #dd00ff, #ee00ff, #ff00ff, #ff00ee, #ff00dd, #ff00cc, #ff00bb, #ff00aa, #ff0099, #ff0088, #ff0077, #ff0066, #ff0055, #ff0044, #ff0033, #ff0022, #ff0011, #ff0000); background-size: 400% 200%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: rgbText 8s infinite linear;">V1.1</p>
</div>

   <div class="dns-box hidden" id="dns-box">
    <div id="message-box" style="margin-top:20px;">
      <h3 style="color:#00ffee;">ğŸ“¬ Ù¾ÛŒØ§Ù… Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†</h3>
      <textarea id="user-message" rows="4" style="width:100%;padding:10px;border-radius:8px;background:#111;color:#fff;"></textarea>
      <button onclick="sendMessage()" style="margin-top:10px;" class="copy-btn">ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…</button>
    </div>
    <button class="btn-generate" id="btnGenerate">ğŸ¯ Generate DNS</button>
    <button class="sort-btn" id="btnSort">ğŸ”€ Sort by Ping</button>
    <div class="loading-container" id="loading-container">
      <div class="loading-bar" id="loading-bar"></div>
    </div>
    <div style="margin-top:20px;text-align:center;">
      <label style="color:#00ffee;font-weight:600;">
        Filter max ping: <span id="pingValue">100</span>ms
      </label><br>
      <input type="range" id="pingSlider" min="20" max="120" value="100" style="width:80%;margin-top:10px;">
    </div>
    <div id="login-history" style="color:#ccc;margin-top:15px;font-size:0.9em;font-family:'monospace';"></div>
    <div id="dns-list"></div>
<p class="version-text">V1.1</p>
<button class="btn-generate" id="btnLivePing">ğŸ“¡ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª</button>
<div id="live-ping-internet" style="margin-top: 20px; color: #00ffcc; font-family: 'Orbitron', sans-serif;">
  <h3 style="color: #ff00cc;">ğŸ“Š Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª</h3>
  <div id="live-ping-value">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div>
  <div id="isp-value">Ø§Ù¾Ø±Ø§ØªÙˆØ±: Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</div> <!-- Ø¹Ù†ØµØ± Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ ISP -->
</div>
    <canvas id="ping-graph"></canvas>
    <div class="guide-box">
      <h2>ğŸ“˜ How to Use DNS</h2>
      <div class="guide-item">ğŸ“± Android: Settings â–¶ï¸ Network & internet â–¶ï¸ Advanced â–¶ï¸ Private DNS</div>
      <div class="guide-item">ğŸ iOS: Settings â–¶ï¸ Wiâ€‘Fi â–¶ï¸ Tap â€œiâ€ â–¶ï¸ Configure DNS â–¶ï¸ Manual â–¶ï¸ Add Servers</div>
      <div class="guide-item">ğŸ’» PC (Windows): Control Panel â–¶ï¸ Network â–¶ï¸ Adapter â–¶ï¸ IPv4/IPv6 â–¶ï¸ Use these DNS</div>
      <div class="guide-item">ğŸ•¹ï¸ PS5/PS4: Settings â–¶ï¸ Network â–¶ï¸ Set Up Internet Connection â–¶ï¸ DNS Settings â–¶ï¸ Manual</div>
      <div class="guide-item">ğŸ® Xbox: Settings â–¶ï¸ General â–¶ï¸ Network Settings â–¶ï¸ Advanced Settings â–¶ï¸ DNS Settings</div>
    </div>
    <div class="creator-box">
  <div class="creator-header">
    <h2>AMIR KARIMI</h2>
    <p class="creator-subtitle">17 Years Old | Iran ğŸ‡®ğŸ‡·</p>
    <hr class="divider"/>
  </div>
  <div class="creator-info">
    <p><span class="emoji">ğŸ“</span> <strong>WhatsApp:</strong> <a href="https://wa.me/+9809332533573" target="_blank">+98 0933 253 3573</a></p>
    <p><span class="emoji">ğŸ’¬</span> <strong>Telegram:</strong> <a href="https://t.me/AMIRKR17" target="_blank">@AMIRKR17</a></p>
    <p><span class="emoji">ğŸ“¸</span> <strong>Instagram:</strong> <a href="https://www.instagram.com/goddnspanel?igsh=c3Y1c2lwa2dsNmV4" target="_blank">@GODDNSPANEL</a></p>
    <p><span class="emoji">ğŸ“¢</span> <strong>Telegram Channel:</strong> <a href="https://t.me/GODDNSPANEL" target="_blank">@GODDNSPANEL</a></p>
    <p><span class="emoji">ğŸ¤</span> <strong>Collaborator:</strong> Bardia (<a href="https://t.me/Poor_Engineer" target="_blank">@Poor_Engineer</a>)</p>
    <p><span class="emoji">ğŸ“¸</span> <strong>Collaborator's Instagram:</strong> <a href="https://www.instagram.com/theryzex?igsh=MW56M3ViOXBubHFlOA==" target="_blank">@THERYZEX</a></p>
    <p><span class="emoji">ğŸ“¢</span> <strong>Collaborator's Channel:</strong> <a href="https://t.me/THERYZEX" target="_blank">@THERYZEX</a></p>
    <p class="creator-roles">ğŸ‘¾ Game Tweaker ğŸ® | Developer ğŸ‘¨â€ğŸ’» | Reverse Engineer ğŸ§ </p>
  </div>
  <div class="creator-cta">
    <a href="https://t.me/GODDNSPANEL" target="_blank" class="cta-button">Join GOD DNS Channel ğŸš€</a>
  </div>
<p class="version-text">V1.1</p>
</div>

  <script>
    // Telegram bot settings
    const TELEGRAM_BOT_TOKEN = '7565234755:AAFiJCOGucb3rjktM1Cs67jbJYFVTzpRk5I';
    const TELEGRAM_CHAT_ID = '7286496010';

    const loginStartTime = performance.now();
    const canvas = document.getElementById('particles');
    const ctx = canvas.getContext('2d');
    let particles = [];

    // Particle animation
    function randomRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    function createParticles(num) {
      particles = [];
      for (let i = 0; i < num; i++) {
        particles.push({
          x: Math.random() * window.innerWidth,
          y: Math.random() * window.innerHeight,
          radius: randomRange(1.5, 4),
          speedX: randomRange(-0.15, 0.15),
          speedY: randomRange(-0.4, -0.05),
          opacity: randomRange(0.25, 0.8),
          opacitySpeed: randomRange(0.0025, 0.008),
          hue: Math.floor(randomRange(0, 360))
        });
      }
    }

    function resizeCanvas() {
      canvas.width = window.innerWidth * devicePixelRatio;
      canvas.height = window.innerHeight * devicePixelRatio;
      canvas.style.width = window.innerWidth + 'px';
      canvas.style.height = window.innerHeight + 'px';
      ctx.scale(devicePixelRatio, devicePixelRatio);
    }

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        const color = `hsla(${p.hue}, 100%, 70%, ${p.opacity})`;
        ctx.beginPath();
        ctx.shadowColor = color;
        ctx.shadowBlur = 16;
        ctx.fillStyle = color;
        ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
        ctx.fill();

        p.x += p.speedX;
        p.y += p.speedY;
        p.opacity += p.opacitySpeed;
        if (p.opacity > 0.85 || p.opacity < 0.25) p.opacitySpeed *= -1;

        if (p.y < -10) {
          p.y = window.innerHeight + 10;
          p.x = Math.random() * window.innerWidth;
        }
        if (p.x < -10) p.x = window.innerWidth + 10;
        if (p.x > window.innerWidth + 10) p.x = -10;
      });
      requestAnimationFrame(drawParticles);
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    createParticles(110);
    drawParticles();

const realDnsPairs = [
  { primary: "8.8.8.8", secondary: "8.8.4.4", name: "Google DNS" },
  { primary: "1.1.1.1", secondary: "1.0.0.1", name: "Cloudflare DNS" },
  { primary: "9.9.9.9", secondary: "149.112.112.112", name: "Quad9 DNS" },
  { primary: "208.67.222.222", secondary: "208.67.220.220", name: "OpenDNS (Cisco)" },
  { primary: "64.6.64.6", secondary: "64.6.65.6", name: "Neustar DNS" },
  { primary: "198.101.242.72", secondary: "23.253.163.53", name: "Alternate DNS" },
  { primary: "77.88.8.8", secondary: "77.88.8.1", name: "Yandex DNS (Russia)" },
  { primary: "84.200.69.80", secondary: "84.200.70.40", name: "DNS.WATCH (Germany)" },
  { primary: "94.140.14.14", secondary: "94.140.15.15", name: "AdGuard DNS" },
  { primary: "156.154.70.1", secondary: "156.154.71.1", name: "Neustar UltraDNS" },
  { primary: "185.228.168.9", secondary: "185.228.169.9", name: "CleanBrowsing Family" },
  { primary: "76.76.2.0", secondary: "76.76.10.0", name: "ControlD DNS" },
  { primary: "45.90.28.0", secondary: "45.90.30.0", name: "NextDNS" },
  { primary: "94.130.180.225", secondary: "78.47.64.161", name: "Lightning DNS" },
  { primary: "212.47.228.136", secondary: "212.47.228.137", name: "FDN (France)" },
  { primary: "185.51.200.2", secondary: "178.22.122.100", name: "Shecan DNS (Iran)" },
  { primary: "1.2.3.4", secondary: "4.3.2.1", name: "Public DNS (Generic)" },
  { primary: "8.26.56.26", secondary: "8.20.247.20", name: "Comodo Secure DNS" },
  { primary: "195.46.39.39", secondary: "195.46.39.40", name: "SafeDNS" },
  { primary: "80.80.80.80", secondary: "80.80.81.81", name: "Freenom World DNS" },
  { primary: "199.85.126.10", secondary: "199.85.127.10", name: "Norton ConnectSafe DNS" },
  { primary: "185.121.177.177", secondary: "185.121.176.176", name: "Verisign Public DNS" },
  { primary: "149.112.121.10", secondary: "149.112.122.10", name: "CIRA Shield DNS (Canada)" }, // Ø§Ù…Ù†ÛŒØª Ùˆ Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ
  { primary: "176.103.130.130", secondary: "176.103.130.131", name: "AdGuard Family DNS" }, // ÙÛŒÙ„ØªØ± Ù…Ø­ØªÙˆØ§ÛŒ Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ
  { primary: "208.76.50.50", secondary: "208.76.51.51", name: "Level3 DNS" }, // DNS Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§
  { primary: "4.2.2.1", secondary: "4.2.2.2", name: "Level3 Alternate DNS" }, // DNS Ø¹Ù…ÙˆÙ…ÛŒ Ø¯ÛŒÚ¯Ø± Ø§Ø² Level3
  { primary: "89.233.43.71", secondary: "89.233.43.72", name: "UncensoredDNS (Denmark)" }, // Ø¨Ø¯ÙˆÙ† Ø³Ø§Ù†Ø³ÙˆØ± Ùˆ Ù…ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ø­Ø±ÛŒÙ… Ø®ØµÙˆØµÛŒ
  { primary: "185.222.222.222", secondary: "185.184.222.222", name: "CZ.NIC DNS (Czech Republic)" } // DNS Ø¹Ù…ÙˆÙ…ÛŒ Ø§Ø² Ø¬Ù…Ù‡ÙˆØ±ÛŒ Ú†Ú©
];

    let dnsData = [];
    let users = [];

    // DOM elements
    const loginBox = document.getElementById("login-box");
    const dnsBox = document.getElementById("dns-box");
    const errorMsg = document.getElementById("error-msg");
    const successMsg = document.getElementById("success-msg");
    const loadingContainer = document.getElementById("loading-container");
    const loadingBar = document.getElementById("loading-bar");
    const dnsList = document.getElementById("dns-list");
    const pingGraph = document.getElementById("ping-graph");
    const btnGenerate = document.getElementById("btnGenerate");
    const btnSort = document.getElementById("btnSort");
    const clickSound = document.getElementById("click-sound");
    const introSound = document.getElementById("intro-sound");

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙÚ©Øª ØµÙˆØªÛŒ Ø¨Ø±Ø§ÛŒ ØªÛŒÚ© Ø²Ø¯Ù† Ú†Ú©â€ŒØ¨Ø§Ú©Ø³
document.getElementById("remember-me").addEventListener("change", () => {
  clickSound.play();
});

    // Fetch users
    fetch("https://raw.githubusercontent.com/amirkm87/Dns-seting/refs/heads/main/login.json")
  .then(res => {
    if (!res.ok) throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§");
    return res.json();
  })
  .then(data => {
    users = data;
  })
  .catch(() => {});

    // Telegram message sending
    async function sendToTelegram(message, chatId, token) {
      const url = `https://api.telegram.org/bot${token}/sendMessage`;
      try {
        const response = await fetch(url, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            chat_id: chatId,
            text: message,
            parse_mode: 'HTML'
          })
        });
        const responseData = await response.json();
        if (!response.ok) {
          console.error('ÙˆØ±ÙˆØ¯ Ø¨Ø¯ÙˆÙ† ÙˆÛŒ Ù¾ÛŒ Ø§Ù†:', response.status, responseData);
          alert('ÙˆØ±ÙˆØ¯ Ø¨Ø¯ÙˆÙ† ÙˆÛŒ Ù¾ÛŒ Ø§Ù†: ' + JSON.stringify(responseData));
          return false;
        }
        return true;
      } catch (error) {
        console.error('ÙˆØ±ÙˆØ¯ Ø¨Ø¯ÙˆÙ† ÙˆÛŒ Ù¾ÛŒ Ø§Ù†:', error);
        alert('ÙˆØ±ÙˆØ¯ Ø¨Ø¯ÙˆÙ† ÙˆÛŒ Ù¾ÛŒ Ø§Ù†: ' + error.message);
        return false;
      }
    }

let pingInterval = null;

async function measureInternetPing() {
  const livePingValue = document.getElementById("live-ping-value");
  const ispElement = document.getElementById("isp-value"); // Ø¹Ù†ØµØ± Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ ISP
  const startTime = performance.now();

  try {
    // Ø§Ø±Ø³Ø§Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ù¾ÛŒÙ†Ú¯
    await fetch("https://www.google.com/generate_204", {
      method: "GET",
      mode: "no-cors"
    });
    const endTime = performance.now();
    const ping = Math.round(endTime - startTime);

    // Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª ISP Ø§Ø² ipapi.co
    let isp = "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡";
    try {
      const locRes = await fetch("https://ipapi.co/json/");
      const locData = await locRes.json();
      isp = locData.org || "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡"; // Ø¯Ø±ÛŒØ§ÙØª Ù†Ø§Ù… ISP
    } catch (error) {
      console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª ISP:", error);
      isp = "Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª ISP";
    }

    // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÙ†Ú¯ Ùˆ ISP
    livePingValue.innerHTML = `Ù¾ÛŒÙ†Ú¯ Ø§ÛŒÙ†ØªØ±Ù†Øª: <strong>${ping} ms</strong>`;
    livePingValue.style.color = ping < 50 ? "#00ff88" : ping < 100 ? "#ffaa00" : "#ff4444";
    ispElement.innerHTML = `Ø§Ù¾Ø±Ø§ØªÙˆØ±: <strong>${isp}</strong>`;
    ispElement.style.color = "#00ffcc"; // Ø±Ù†Ú¯ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù… Ø§Ù¾Ø±Ø§ØªÙˆØ±
  } catch (error) {
    livePingValue.innerHTML = "âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ Ù¾ÛŒÙ†Ú¯";
    livePingValue.style.color = "#ff4444";
    ispElement.innerHTML = "Ø§Ù¾Ø±Ø§ØªÙˆØ±: Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡";
    ispElement.style.color = "#ff4444";
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ù¾ÛŒÙ†Ú¯:", error);
  }
}

function startLivePing() {
  clickSound.play();
  measureInternetPing(); // Ø§Ø¬Ø±Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
  pingInterval = setInterval(measureInternetPing, 5000); // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù‡Ø± 5 Ø«Ø§Ù†ÛŒÙ‡
  btnLivePing.textContent = "â¹ ØªÙˆÙ‚Ù Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ";
  isPingActive = true;
}

function stopLivePing() {
  clearInterval(pingInterval);
  pingInterval = null;
  document.getElementById("live-ping-value").innerHTML = "Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ù…ØªÙˆÙ‚Ù Ø´Ø¯";
  document.getElementById("isp-value").innerHTML = "Ø§Ù¾Ø±Ø§ØªÙˆØ±: ØºÛŒØ±ÙØ¹Ø§Ù„";
 }



    // Login function
    async function login() {
  const user = document.getElementById("username").value.trim();
  const pass = document.getElementById("password").value.trim();
  const rememberMeCheckbox = document.getElementById("remember-me");
  const rememberMe = rememberMeCheckbox ? rememberMeCheckbox.checked : false;
  const timerEl = document.getElementById("expire-timer");
  const dateRange = document.getElementById("date-range");
  const warning = document.getElementById("expire-warning");
  const errorMsg = document.getElementById("error-msg"); // ØªØ¹Ø±ÛŒÙ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§
  const successMsg = document.getElementById("success-msg");
  const loginBox = document.getElementById("login-box");
  const dnsBox = document.getElementById("dns-box");
  const clickSound = document.getElementById("click-sound");
  const introSound = document.getElementById("intro-sound");
  const welcomeSound = document.getElementById("welcome-sound");

  clickSound.play();

  errorMsg.classList.remove("show");
  errorMsg.classList.add("shake");
  setTimeout(() => errorMsg.classList.remove("shake"), 300);
  successMsg.classList.remove("show");
  timerEl.style.display = "none";
  dateRange.style.display = "none";
  warning.style.display = "none";

  // Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± localStorage Ø§Ú¯Ø± Ú†Ú©â€ŒØ¨Ø§Ú©Ø³ ØªÛŒÚ© Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
  if (rememberMe) {
    localStorage.setItem("savedUsername", user);
    localStorage.setItem("savedPassword", pass);
    if (!localStorage.getItem("rememberMeWarned")) {
      alert("âš ï¸ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯.");
      localStorage.setItem("rememberMeWarned", "true");
    }
  } else {
    localStorage.removeItem("savedUsername");
    localStorage.removeItem("savedPassword");
    localStorage.removeItem("rememberMeWarned");
  }

  if (!user || !pass) {
    errorMsg.textContent = "Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ùˆ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!";
    errorMsg.classList.add("show");
    return;
  }

  let attempts = parseInt(localStorage.getItem("loginAttempts") || "0");
  if (attempts >= 10) {
    errorMsg.textContent = "â›” Ø­Ø³Ø§Ø¨ Ø¨Ù‡â€ŒØ·ÙˆØ± Ù…ÙˆÙ‚Øª Ù‚ÙÙ„ Ø´Ø¯Ù‡ (10 ØªÙ„Ø§Ø´ Ø§Ø´ØªØ¨Ø§Ù‡)";
    errorMsg.classList.add("show");
    return;
  }

  await checkInternetConnection(async (connected) => {
    if (!connected) {
      errorMsg.textContent = "âŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†ÛŒØ³Øª!";
      errorMsg.classList.add("show");
      return;
    }

    if (!Array.isArray(users) || users.length === 0) {
      errorMsg.textContent = "âŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÙˆØ±ÙˆØ¯ Ø§Ø² Ø³Ø±ÙˆØ± Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.";
      errorMsg.classList.add("show");
      return;
    }

    const serverNow = new Date();
    const matchedUser = users.find(u => u.username === user && u.password === pass);

    if (!matchedUser) {
      attempts++;
      localStorage.setItem("loginAttempts", attempts);
      errorMsg.textContent = `Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ ÛŒØ§ Ø±Ù…Ø² Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª! (${attempts}/10)`;
      errorMsg.classList.add("show");
      return;
    }

    const deviceID = localStorage.getItem("deviceID") || crypto.randomUUID();
    localStorage.setItem("deviceID", deviceID);
    if (matchedUser.deviceID && matchedUser.deviceID !== deviceID) {
      errorMsg.textContent = "â›” Ø§ÛŒÙ† Ø­Ø³Ø§Ø¨ ÙÙ‚Ø· Ø±ÙˆÛŒ ÛŒÚ© Ø¯Ø³ØªÚ¯Ø§Ù‡ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª!";
      await sendToTelegram(
        `ğŸš¨ <b>Ù‡Ø´Ø¯Ø§Ø± Ø§Ù…Ù†ÛŒØªÛŒ</b> ğŸš¨\nğŸ‘¤ <b>Ú©Ø§Ø±Ø¨Ø±:</b> ${user}\nğŸ’» <b>Ø¯Ø³ØªÚ¯Ø§Ù‡:</b> ${deviceID}\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
        TELEGRAM_CHAT_ID,
        TELEGRAM_BOT_TOKEN
      );
      errorMsg.classList.add("show");
      return;
    }

    const startDate = new Date(matchedUser.start);
    const expireDate = new Date(matchedUser.expire);
    if (serverNow > expireDate) {
      errorMsg.textContent = "â›” Ø§Ø´ØªØ±Ø§Ú© Ø´Ù…Ø§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª!";
      errorMsg.classList.add("show");
      return;
    }

    let ip = "N/A", location = "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡"; // Ø­Ø°Ù Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ù‡ ipapi.co

    const browser = navigator.userAgent;
    const loginTime = new Date().toLocaleString('fa-IR', {
      year: 'numeric',
      month: 'numeric',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit',
      hour12: false
    });
    const browserLang = navigator.language || "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡";
    const resolution = `${screen.width}x${screen.height}`;
    const loginDelay = ((performance.now() - loginStartTime) / 1000).toFixed(1);
    const {
      batteryText,
      connectionType,
      downloadSpeed,
      uploadSpeed,
      osName,
      screenStatus,
      deviceModel,
      browserVersion,
      adBlockStatus,
      zoomLevel,
      cookieStatus,
      localStorageUsage,
      timezoneInfo,
      gpsStatus
    } = await getDeviceInfo();

    // ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ
    const logEntry = `
      ${loginTime} |
      IP: ${ip} |
      ğŸ“ Ù…ÙˆÙ‚Ø¹ÛŒØª: ${location} |
      ğŸ’» Ù…Ø±ÙˆØ±Ú¯Ø±: ${browser} |
      ğŸ–¥ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„: ${osName} |
      ğŸ“± Ø¯Ø³ØªÚ¯Ø§Ù‡: ${deviceID} |
      ğŸ”‹ Ø¨Ø§ØªØ±ÛŒ: ${batteryText} |
      ğŸ“¶ Ø§ØªØµØ§Ù„: ${connectionType} |
      â¬‡ Ø¯Ø§Ù†Ù„ÙˆØ¯: ${downloadSpeed} |
      â¬† Ø¢Ù¾Ù„ÙˆØ¯: ${uploadSpeed} |
      ğŸ–¼ ÙˆØ¶Ø¹ÛŒØª ØµÙØ­Ù‡: ${screenStatus} |
      ğŸ“² Ù…Ø¯Ù„ Ø¯Ø³ØªÚ¯Ø§Ù‡: ${deviceModel} |
      ğŸŒ Ù†Ø³Ø®Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±: ${browserVersion} |
      ğŸ›‘ AdBlock: ${adBlockStatus} |
      ğŸ” Ø²ÙˆÙ…: ${zoomLevel} |
      ğŸª Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§: ${cookieStatus} |
      ğŸ’¾ ÙØ¶Ø§ÛŒ localStorage: ${localStorageUsage} |
      ğŸŒ Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ: ${timezoneInfo} |
      ğŸ“ GPS: ${gpsStatus}
    `.replace(/\n\s+/g, ' ').trim();
    let history = JSON.parse(localStorage.getItem("loginHistory") || "[]");
    history.push(logEntry);
    localStorage.setItem("loginHistory", JSON.stringify(history));

    // Ù¾ÛŒØ§Ù… ØªÙ„Ú¯Ø±Ø§Ù… Ø¨Ø§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ
    await sendToTelegram(
      `âœ… <b>ÙˆØ±ÙˆØ¯ Ø¬Ø¯ÛŒØ¯</b> âœ…
ğŸ‘¤ <b>Ú©Ø§Ø±Ø¨Ø±:</b> ${user}
ğŸ§­ <b>Ø²Ø¨Ø§Ù†:</b> ${browserLang}
ğŸ”¢ <b>Ø±Ø²ÙˆÙ„ÙˆØ´Ù†:</b> ${resolution}
â± <b>ØªØ£Ø®ÛŒØ± ÙˆØ±ÙˆØ¯:</b> ${loginDelay} Ø«Ø§Ù†ÛŒÙ‡
ğŸ•’ <b>Ø²Ù…Ø§Ù†:</b> ${loginTime}
ğŸŒ <b>IP:</b> ${ip}
ğŸ“ <b>Ù…ÙˆÙ‚Ø¹ÛŒØª:</b> ${location}
ğŸŒ <b>Ù…Ø±ÙˆØ±Ú¯Ø±:</b> ${browser}
ğŸ–¥ <b>Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„:</b> ${osName}
ğŸ“± <b>Ù…Ø¯Ù„ Ø¯Ø³ØªÚ¯Ø§Ù‡:</b> ${deviceModel}
ğŸ’» <b>Ø¯Ø³ØªÚ¯Ø§Ù‡:</b> ${deviceID}
ğŸ”‹ <b>Ø¨Ø§ØªØ±ÛŒ:</b> ${batteryText}
ğŸ“¶ <b>Ø§ØªØµØ§Ù„:</b> ${connectionType}
â¬‡ <b>Ø³Ø±Ø¹Øª Ø¯Ø§Ù†Ù„ÙˆØ¯:</b> ${downloadSpeed}
â¬† <b>Ø³Ø±Ø¹Øª Ø¢Ù¾Ù„ÙˆØ¯:</b> ${uploadSpeed}
ğŸ–¼ <b>ÙˆØ¶Ø¹ÛŒØª ØµÙØ­Ù‡:</b> ${screenStatus}
ğŸŒ <b>Ù†Ø³Ø®Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±:</b> ${browserVersion}
ğŸ›‘ <b>AdBlock:</b> ${adBlockStatus}
ğŸ” <b>Ø³Ø·Ø­ Ø²ÙˆÙ…:</b> ${zoomLevel}
ğŸª <b>ÙˆØ¶Ø¹ÛŒØª Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§:</b> ${cookieStatus}
ğŸ’¾ <b>ÙØ¶Ø§ÛŒ localStorage:</b> ${localStorageUsage}
ğŸŒ <b>Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ:</b> ${timezoneInfo}
ğŸ“ <b>ÙˆØ¶Ø¹ÛŒØª GPS:</b> ${gpsStatus}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
      TELEGRAM_CHAT_ID,
      TELEGRAM_BOT_TOKEN
    );

    let stats = JSON.parse(localStorage.getItem("loginStats") || "{}");
    const today = new Date().toISOString().split("T")[0];
    stats[today] = (stats[today] || 0) + 1;
    localStorage.setItem("loginStats", JSON.stringify(stats));

    localStorage.setItem("loggedIn", "true");
    localStorage.setItem("loginAttempts", "0");

    const msLeft = expireDate.getTime() - serverNow.getTime();
    const daysLeft = Math.floor(msLeft / (1000 * 60 * 60 * 24));
    successMsg.textContent = `ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ âœ… | ${daysLeft} Ø±ÙˆØ² Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡`;
    successMsg.classList.add("show");

    // Ù¾Ø®Ø´ ØµØ¯Ø§ÛŒ Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ùˆ Ø³Ù¾Ø³ intro
    welcomeSound.volume = 0;
    welcomeSound.play().then(() => {
      let fadeInWelcome = setInterval(() => {
        if (welcomeSound.volume < 0.9) {
          welcomeSound.volume += 0.1;
        } else {
          clearInterval(fadeInWelcome);
        }
      }, 100);
      welcomeSound.addEventListener('ended', () => {
        introSound.volume = 0;
        introSound.play().catch(() => {});
        let fadeInIntro = setInterval(() => {
          if (introSound.volume < 0.9) {
            introSound.volume += 0.1;
          } else {
            clearInterval(fadeInIntro);
          }
        }, 100);
      }, { once: true });
    }).catch(() => {
      document.body.addEventListener("click", () => {
        welcomeSound.play().then(() => {
          welcomeSound.addEventListener('ended', () => {
            introSound.play().catch(() => {});
          }, { once: true });
        }).catch(() => {});
      }, { once: true });
      introSound.play().catch(() => {});
    });

    if (user.trim().toLowerCase() === "admin") {
      document.getElementById("admin-dashboard").classList.remove("hidden");
      renderDashboard();
    }

    dateRange.innerHTML = `ğŸ“† Ø§Ø²: ${matchedUser.start.split("T")[0]} ØªØ§: ${matchedUser.expire.split("T")[0]}`;
    dateRange.style.display = "block";

    timerEl.style.display = "block";
    function updateTimer() {
      const now = new Date().getTime();
      const dist = expireDate.getTime() - now;
      if (dist <= 0) {
        timerEl.innerHTML = "â›” Ø§Ø´ØªØ±Ø§Ú© Ø´Ù…Ø§ Ø¨Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø±Ø³ÛŒØ¯";
        localStorage.setItem("loggedIn", "false");
        clearInterval(timerInterval);
        return;
      }
      const d = Math.floor(dist / (1000 * 60 * 60 * 24));
      const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
      const s = Math.floor((dist % (1000 * 60)) / 1000);
      timerEl.innerHTML = `â³ Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡: ${d} Ø±ÙˆØ² ${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
      timerEl.style.color = d >= 3 ? "#0f0" : d >= 1 ? "#ff0" : "#f00";
      if (d === 1 && h <= 12 && !window._warned) {
        warning.innerHTML = "âš ï¸ ÙÙ‚Ø· ÛŒÚ© Ø±ÙˆØ² ØªØ§ Ù¾Ø§ÛŒØ§Ù† Ø§Ø´ØªØ±Ø§Ú© Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡!";
        warning.style.display = "block";
        clickSound.play();
        window._warned = true;
        sendToTelegram(
          `âš ï¸ <b>Ù‡Ø´Ø¯Ø§Ø± Ø§Ù†Ù‚Ø¶Ø§</b> âš ï¸\nğŸ‘¤ <b>Ú©Ø§Ø±Ø¨Ø±:</b> ${user}\nâ³ <b>Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡:</b> ÙÙ‚Ø· ${d} Ø±ÙˆØ²\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”`,
          TELEGRAM_CHAT_ID,
          TELEGRAM_BOT_TOKEN
        );
      }
    }
    updateTimer();
    const timerInterval = setInterval(updateTimer, 500);

    document.getElementById("login-history").innerHTML =
      "<b>ğŸ•’ ØªØ§Ø±ÛŒØ®Ú†Ù‡ ÙˆØ±ÙˆØ¯:</b><br>" + history.slice(-2).reverse().join("<br>");
    setTimeout(() => {
      successMsg.classList.remove("show");
      loginBox.style.display = "none";
      dnsBox.classList.remove("hidden");
      drawGraph();
    }, 4000);
  });
}

async function getDeviceInfo() {
  let batteryText = "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡";
  let connectionType = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let downloadSpeed = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let uploadSpeed = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let osName = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let screenStatus = "Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡";
  let deviceModel = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let browserVersion = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let adBlockStatus = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let zoomLevel = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let cookieStatus = "ØºÛŒØ±ÙØ¹Ø§Ù„"; // Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯
  let localStorageUsage = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let timezoneInfo = "Ù†Ø§Ù…Ø´Ø®Øµ";
  let gpsStatus = "ØºÛŒØ±ÙØ¹Ø§Ù„ (Ø¯Ø³ØªØ±Ø³ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø´Ø¯Ù‡)"; // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† GPS

  // Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ØªØ±ÛŒ
  try {
    if (navigator.getBattery) {
      const battery = await navigator.getBattery();
      const percent = Math.round(battery.level * 100);
      const charging = battery.charging ? "Ø¯Ø± Ø­Ø§Ù„ Ø´Ø§Ø±Ú˜" : "Ø¯Ø± Ø­Ø§Ù„ Ù…ØµØ±Ù";
      let batteryDetails = `${percent}% (${charging})`;
      if (battery.chargingTime !== Infinity && battery.charging) {
        batteryDetails += ` | Ø´Ø§Ø±Ú˜ Ú©Ø§Ù…Ù„: ~${Math.round(battery.chargingTime / 60)} Ø¯Ù‚ÛŒÙ‚Ù‡`;
      } else if (battery.dischargingTime !== Infinity && !battery.charging) {
        batteryDetails += ` | ØªØ®Ù„ÛŒÙ‡: ~${Math.round(battery.dischargingTime / 60)} Ø¯Ù‚ÛŒÙ‚Ù‡`;
      }
      batteryText = batteryDetails;
    } else {
      batteryText = "API Ø¨Ø§ØªØ±ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯";
    }
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ØªØ±ÛŒ:", error);
    batteryText = `Ø®Ø·Ø§: ${error.message}`;
  }

  // Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª
  try {
    if (navigator.connection) {
      connectionType = navigator.connection.effectiveType?.toUpperCase() || "Ù†Ø§Ù…Ø´Ø®Øµ";
      if (navigator.connection.type) {
        connectionType += ` (${navigator.connection.type})`;
      }
      downloadSpeed = navigator.connection.downlink ? `${navigator.connection.downlink} Mbps (ØªØ®Ù…ÛŒÙ†ÛŒ)` : "Ù†Ø§Ù…Ø´Ø®Øµ";
      uploadSpeed = navigator.connection.uplink ? `${navigator.connection.uplink} Mbps (ØªØ®Ù…ÛŒÙ†ÛŒ)` : "Ù†Ø§Ù…Ø´Ø®Øµ";
    } else {
      connectionType = navigator.onLine ? "Ø¢Ù†Ù„Ø§ÛŒÙ†" : "Ø¢ÙÙ„Ø§ÛŒÙ†";
    }
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø¨Ú©Ù‡:", error);
    connectionType = `Ø®Ø·Ø§: ${error.message}`;
  }

  // ØªØ´Ø®ÛŒØµ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ Ùˆ Ù…Ø¯Ù„ Ø¯Ø³ØªÚ¯Ø§Ù‡
  try {
    const ua = navigator.userAgent;
    if (/Windows/i.test(ua)) osName = "Windows";
    else if (/Mac OS/i.test(ua)) osName = "MacOS";
    else if (/Linux/i.test(ua)) osName = "Linux";
    else if (/Android/i.test(ua)) osName = "Android";
    else if (/iOS|iPhone|iPad/i.test(ua)) osName = "iOS";
    else osName = navigator.platform || "Ù†Ø§Ù…Ø´Ø®Øµ";

    const deviceMatch = ua.match(/\((.*?)\)/);
    if (deviceMatch) {
      deviceModel = deviceMatch[1].split(';')[1]?.trim() || deviceMatch[1].trim();
    }
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ ÛŒØ§ Ù…Ø¯Ù„:", error);
    osName = `Ø®Ø·Ø§: ${error.message}`;
    deviceModel = `Ø®Ø·Ø§: ${error.message}`;
  }

  // Ù†Ø³Ø®Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±
  try {
    const ua = navigator.userAgent;
    const browserMatch = ua.match(/(Chrome|Firefox|Safari|Edge)\/([\d.]+)/);
    if (browserMatch) {
      browserVersion = `${browserMatch[1]} ${browserMatch[2]}`;
    } else {
      browserVersion = "Ù†Ø§Ù…Ø´Ø®Øµ (Ù…Ø±ÙˆØ±Ú¯Ø± ØºÛŒØ±Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯)";
    }
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ Ù†Ø³Ø®Ù‡ Ù…Ø±ÙˆØ±Ú¯Ø±:", error);
    browserVersion = `Ø®Ø·Ø§: ${error.message}`;
  }

  // Ø¨Ø±Ø±Ø³ÛŒ AdBlock
  try {
    const testAd = document.createElement("div");
    testAd.className = "adsbox";
    document.body.appendChild(testAd);
    setTimeout(() => {
      adBlockStatus = testAd.offsetHeight === 0 ? "ÙØ¹Ø§Ù„" : "ØºÛŒØ±ÙØ¹Ø§Ù„";
      document.body.removeChild(testAd);
    }, 100);
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ AdBlock:", error);
    adBlockStatus = `Ø®Ø·Ø§: ${error.message}`;
  }

  // Ø³Ø·Ø­ Ø²ÙˆÙ… Ù…Ø±ÙˆØ±Ú¯Ø±
  try {
    zoomLevel = `${Math.round(window.devicePixelRatio * 100)}%`;
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø²ÙˆÙ…:", error);
    zoomLevel = `Ø®Ø·Ø§: ${error.message}`;
  }

  // ÙˆØ¶Ø¹ÛŒØª Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ ØªØ³Øª Ø¹Ù…Ù„ÛŒ
  try {
    document.cookie = "testCookie=grok; max-age=1";
    cookieStatus = document.cookie.includes("testCookie=grok") ? "ÙØ¹Ø§Ù„" : "ØºÛŒØ±ÙØ¹Ø§Ù„";
    document.cookie = "testCookie=; max-age=0"; // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©ÙˆÚ©ÛŒ ØªØ³Øª
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ú©ÙˆÚ©ÛŒâ€ŒÙ‡Ø§:", error);
    cookieStatus = "ØºÛŒØ±ÙØ¹Ø§Ù„ (Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ø­Ù„ÛŒ)";
  }

  // Ø­Ø¬Ù… Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø§Ø² localStorage
  try {
    let total = 0;
    for (let x in localStorage) {
      if (localStorage.hasOwnProperty(x)) {
        total += ((localStorage[x].length + x.length) * 2);
      }
    }
    localStorageUsage = `${(total / 1024).toFixed(2)} KB`;
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… localStorage:", error);
    localStorageUsage = `Ø®Ø·Ø§: ${error.message}`;
  }

  // Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ
  try {
    timezoneInfo = Intl.DateTimeFormat().resolvedOptions().timeZone || "Ù†Ø§Ù…Ø´Ø®Øµ";
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ù…Ù†Ø·Ù‚Ù‡ Ø²Ù…Ø§Ù†ÛŒ:", error);
    timezoneInfo = `Ø®Ø·Ø§: ${error.message}`;
  }

  // ÙˆØ¶Ø¹ÛŒØª ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´
  try {
    screenStatus = document.fullscreenElement ? "ØªÙ…Ø§Ù…â€ŒØµÙØ­Ù‡" : "Ø¹Ø§Ø¯ÛŒ";
  } catch (error) {
    console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØµÙØ­Ù‡:", error);
    screenStatus = `Ø®Ø·Ø§: ${error.message}`;
  }

  return {
    batteryText,
    connectionType,
    downloadSpeed,
    uploadSpeed,
    osName,
    screenStatus,
    deviceModel,
    browserVersion,
    adBlockStatus,
    zoomLevel,
    cookieStatus,
    localStorageUsage,
    timezoneInfo,
    gpsStatus
  };
}

    // Generate DNS
    btnGenerate.addEventListener("click", () => {
  clickSound.play();
  checkInternetConnection((connected) => {
    if (!connected) {
      alert("âŒ Ø§ØªØµØ§Ù„ Ø§ÛŒÙ†ØªØ±Ù†Øª Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†ÛŒØ³Øª! Ù†Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ DNS Ø¬Ù†Ø±ÛŒØª Ú©Ù†ÛŒ.");
      return;
    }

    loadingContainer.style.display = "block";
    loadingBar.style.width = "0%";
    setTimeout(() => {
      loadingBar.style.width = "100%";
    }, 50);
    setTimeout(() => {
      loadingContainer.style.display = "none";
      generateDNS();
      shouldRedrawGraph = true; // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø±Ù†Ø¯Ø± Ú¯Ø±Ø§Ù
      drawGraph();
    }, 3100);
  });
});

    btnSort.addEventListener("click", () => {
  clickSound.play();
  dnsData.sort((a, b) => a.ping - b.ping);
  renderList();
  shouldRedrawGraph = true; // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø±Ù†Ø¯Ø± Ú¯Ø±Ø§Ù
  drawGraph();
});

    function generateDNS() {
  dnsList.innerHTML = "";
  dnsData = realDnsPairs.map((p, i) => ({
    id: i + 1,
    primary: p.primary,
    secondary: p.secondary,
    primaryIPv6: p.primaryIPv6 || "N/A",
    secondaryIPv6: p.secondaryIPv6 || "N/A",
    name: p.name,
    features: p.features || "No features",
    ping: getRandomPing()
  }));
  renderList();
  drawGraph();
}

    function getRandomPing() {
  return Math.floor(Math.random() * 31) + 40;
}

    function renderList() {
  dnsList.innerHTML = "";
  dnsData.forEach((dns, i) => {
    setTimeout(() => {
      const div = document.createElement("div");
      div.className = "dns-entry";
      const score = parseInt(localStorage.getItem(`dnsScore-${dns.id}`) || "0");

      div.innerHTML = `
        <div class="dns-info">
          <strong>#${dns.id} - ${dns.name}</strong>
          <span>Primary: ${dns.primary}</span>
          <span>Secondary: ${dns.secondary}</span>
          <span>IPv6-1: ${dns.primaryIPv6}</span>
          <span>IPv6-2: ${dns.secondaryIPv6}</span>
          <span>Ping: <strong>${dns.ping} ms</strong></span>
          <span>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: ${dns.features}</span>
          <span>Ø§Ù…ØªÛŒØ§Ø²: <strong id="score-${dns.id}">${score}</strong></span>
          <button onclick="voteDNS(${dns.id})" style="margin-top:5px;" class="vote-btn">ğŸ‘</button>
        </div>
        <button class="copy-btn" ${dnsData.length === 0 ? 'disabled' : ''}>Copy</button>`;
      dnsList.appendChild(div);

      const copyButton = div.querySelector(".copy-btn");
      if (copyButton && !copyButton.disabled) {
        copyButton.addEventListener("click", () => {
          simulatorCopy(`${dns.primary} , ${dns.secondary}`);
        });
      }
    }, i * 100);
  });
}

    function renderFilteredList(filteredData) {
  dnsList.innerHTML = "";
  if (filteredData.length === 0) {
    const div = document.createElement("div");
    div.className = "dns-entry";
    div.innerHTML = `<p style="color:#ff4444;">Ù‡ÛŒÚ† Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</p>`;
    dnsList.appendChild(div);
    return;
  }

  filteredData.forEach((dns) => {
    const div = document.createElement("div");
    div.className = "dns-entry";
    const score = parseInt(localStorage.getItem(`dnsScore-${dns.id}`) || "0");

    div.innerHTML = `
      <div class="dns-info">
        <strong>#${dns.id} - ${dns.name}</strong>
        <span>Primary: ${dns.primary}</span>
        <span>Secondary: ${dns.secondary}</span>
        <span>IPv6-1: ${dns.primaryIPv6}</span>
        <span>IPv6-2: ${dns.secondaryIPv6}</span>
        <span>Ping: <strong>${dns.ping} ms</strong></span>
        <span>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§: ${dns.features}</span>
        <span>Ø§Ù…ØªÛŒØ§Ø²: <strong id="score-${dns.id}">${score}</strong></span>
        <button onclick="voteDNS(${dns.id})" style="margin-top:5px;" class="vote-btn">ğŸ‘</button>
      </div>
      <button class="copy-btn">Copy</button>`;
    dnsList.appendChild(div);

    // Ø¨Ø§ÛŒÙ†Ø¯ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Copy
    div.querySelector(".copy-btn").addEventListener("click", () => {
      simulatorCopy(`${dns.primary} , ${dns.secondary}`);
    });
  });
}

function simulatorCopy(text) {
  navigator.clipboard.writeText(text).then(() => alert("âœ… DNS Copied: " + text));
}

    function drawGraph() {
  pingGraph.style.display = "block";
  if (pingGraph.clientWidth === 0 || pingGraph.clientHeight === 0) {
    pingGraph.style.width = "100%";
    pingGraph.style.height = "350px"; // Ø§Ø±ØªÙØ§Ø¹ ÙØ¹Ù„ÛŒ
  }

  const ctx = pingGraph.getContext("2d");
  const w = pingGraph.clientWidth;
  const h = pingGraph.clientHeight;
  const m = 40; // Ø­Ø§Ø´ÛŒÙ‡

  pingGraph.width = w * window.devicePixelRatio;
  pingGraph.height = h * window.devicePixelRatio;
  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
  ctx.clearRect(0, 0, w, h);

  const barWidth = ((w - m * 2) / dnsData.length) * 0.5; // Ú©Ø§Ù‡Ø´ Ø¨Ù‡ 0.2
  const gap = ((w - m * 2) / dnsData.length) * 0.5; // ØªÙ†Ø¸ÛŒÙ… ÙØ¹Ù„ÛŒ
  const maxPing = 100, minPing = 20;

  ctx.strokeStyle = "#004040";
  ctx.lineWidth = 1;
  ctx.font = "3px 'Orbitron'"; // ÙÙˆÙ†Øª ÙØ¹Ù„ÛŒ
  ctx.fillStyle = "#00ffcc";
  ctx.textAlign = "right";

  // Ø±Ø³Ù… Ø®Ø·ÙˆØ· Ø§ÙÙ‚ÛŒ Ùˆ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§
  for (let i = 0; i <= 5; i++) {
    const y = m + ((h - m * 2) / 5) * i;
    ctx.beginPath();
    ctx.moveTo(m, y);
    ctx.lineTo(w - m, y);
    ctx.stroke();
    ctx.fillText((maxPing - i * (maxPing - minPing) / 5).toFixed(0) + " ms", m - 6, y + 3);
  }

  let barTops = [];
  const time = Date.now() / 30;

  dnsData.forEach((dns, i) => {
    const x = m + i * (barWidth + gap) + gap / 2 + barWidth / 2;
    const ph = ((dns.ping - minPing) / (maxPing - minPing)) * (h - m * 2);
    const y = h - m - ph;

    const grad = ctx.createLinearGradient(x - barWidth / 2, y, x + barWidth / 2, h - m);
    grad.addColorStop(0, `hsl(${(i * 45 + time) % 360}, 100%, 65%)`);
    grad.addColorStop(1, `hsl(${(i * 45 + 60 + time) % 360}, 100%, 40%)`);

    ctx.fillStyle = grad;
    ctx.shadowColor = "rgba(0,255,255,0.3)";
    ctx.shadowBlur = 12;
    ctx.fillRect(x - barWidth / 2, y, barWidth, h - m - y);
    ctx.shadowBlur = 0;

    ctx.fillStyle = "#00ffcc";
    ctx.fillText(dns.ping + " ms", x, y - 5); // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¹Ø¯Ø¯ Ù¾ÛŒÙ†Ú¯

    ctx.fillStyle = "#ff00cc";
    ctx.fillText("#" + dns.id, x, h - m + 10); // Ø§ÙØ²Ø§ÛŒØ´ ÙØ§ØµÙ„Ù‡ ØªÚ¯â€ŒÙ‡Ø§ Ø¨Ù‡ 25

    barTops.push({ x, y, dns });
  });

  ctx.beginPath();
  ctx.lineWidth = 2;
  ctx.strokeStyle = "#00ffeeaa";
  ctx.shadowColor = "#00ffeeaa";
  ctx.shadowBlur = 8;
  barTops.forEach((p, i) => i === 0 ? ctx.moveTo(p.x, p.y) : ctx.lineTo(p.x, p.y));
  ctx.stroke();
  ctx.shadowBlur = 0;

  requestAnimationFrame(drawGraph);
}

   function drawFilteredGraph(filteredData) {
  const ctx = pingGraph.getContext("2d");
  const w = pingGraph.clientWidth;
  const h = pingGraph.clientHeight;
  const m = 40;

  pingGraph.width = w * window.devicePixelRatio;
  pingGraph.height = h * window.devicePixelRatio;
  ctx.scale(window.devicePixelRatio, window.devicePixelRatio);
  ctx.clearRect(0, 0, w, h);

  const barWidth = ((w - m * 2) / filteredData.length) * 0.5; // ØªÙ†Ø¸ÛŒÙ… ÙØ¹Ù„ÛŒ
  const gap = ((w - m * 2) / filteredData.length) * 0.5; // ØªÙ†Ø¸ÛŒÙ… ÙØ¹Ù„ÛŒ
  const maxPing = 100, minPing = 20;

  ctx.strokeStyle = "#004040";
  ctx.lineWidth = 1;
  ctx.font = "3px 'Orbitron'"; // ÙÙˆÙ†Øª ÙØ¹Ù„ÛŒ
  ctx.fillStyle = "#00ffcc";
  ctx.textAlign = "right";

  for (let i = 0; i <= 5; i++) {
    const y = m + ((h - m * 2) / 5) * i;
    ctx.beginPath();
    ctx.moveTo(m, y);
    ctx.lineTo(w - m, y);
    ctx.stroke();
    ctx.fillText((maxPing - i * (maxPing - minPing) / 5).toFixed(0) + " ms", m - 6, y + 3);
  }

  let barTops = [];
  ctx.lineWidth = 3;
  ctx.textAlign = "center";
  filteredData.forEach((dns, i) => {
    const x = m + i * (barWidth + gap) + gap / 2 + barWidth / 2;
    const ph = ((dns.ping - minPing) / (maxPing - minPing)) * (h - m * 2);
    const y = h - m - ph;

    const grad = ctx.createLinearGradient(x - barWidth / 2, y, x + barWidth / 2, h - m);
    grad.addColorStop(0, `hsl(${(i * 45 + Date.now() / 30) % 360},100%,65%)`);
    grad.addColorStop(1, `hsl(${(i * 45 + 60 + Date.now() / 30) % 360},100%,40%)`);
    ctx.fillStyle = grad;
    ctx.fillRect(x - barWidth / 2, y, barWidth, h - m - y);
    ctx.fillStyle = "#00ffcc";
    ctx.fillText(dns.ping + " ms", x, y - 5); // Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¹Ø¯Ø¯ Ù¾ÛŒÙ†Ú¯
    ctx.fillStyle = "#ff00cc";
    ctx.fillText("#" + dns.id, x, h - m + 10); // Ø§ÙØ²Ø§ÛŒØ´ ÙØ§ØµÙ„Ù‡ ØªÚ¯â€ŒÙ‡Ø§ Ø¨Ù‡ 25
    barTops.push({ x, y });
  });

  ctx.beginPath();
  ctx.lineWidth = 2;
  ctx.strokeStyle = "#00ffcccc";
  barTops.forEach((p, i) => (i === 0 ? ctx.moveTo(p.x, p.y) : ctx.lineTo(p.x, p.y)));
  ctx.stroke();
}

    function showBestDNS() {
      if (!dnsData.length) return;
      const best = dnsData.reduce((a, b) => a.ping < b.ping ? a : b);
      alert(`â­ï¸ Best DNS: ${best.primary} , ${best.secondary} (${best.ping} ms)`);
    }

document.addEventListener("DOMContentLoaded", () => {
  // Ù¾Ø®Ø´ ØµØ¯Ø§ÛŒ Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ
  const welcomeSound = new Audio("https://github.com/amir878778/Sound-god-dns/raw/refs/heads/main/welcome.mp3");
  welcomeSound.play().catch(() => {});

  // Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø°Ø®ÛŒØ±Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù„Ø§Ú¯ÛŒÙ†
  const savedUsername = localStorage.getItem("savedUsername");
  const savedPassword = localStorage.getItem("savedPassword");
  const rememberMeCheckbox = document.getElementById("remember-me");

  if (savedUsername && savedPassword && rememberMeCheckbox) {
    document.getElementById("username").value = savedUsername;
    document.getElementById("password").value = savedPassword;
    rememberMeCheckbox.checked = true;
  }
});

    document.getElementById("pingSlider").addEventListener("input", (e) => {
  document.getElementById("pingValue").innerText = e.target.value;
  const maxPing = parseInt(e.target.value);
  const filtered = dnsData.filter(d => d.ping <= maxPing);
  renderFilteredList(filtered);
  drawFilteredGraph(filtered);
});

    window.addEventListener("resize", () => {
  if (!dnsBox.classList.contains("hidden")) {
    shouldRedrawGraph = true;
    drawGraph();
  }
});

    document.addEventListener("keydown", (event) => {
  if (event.key === "Enter") {
    const usernameFocused = document.activeElement.id === "username";
    const passwordFocused = document.activeElement.id === "password";
    const rememberMeFocused = document.activeElement.id === "remember-me";

    if (!usernameFocused && !passwordFocused && !rememberMeFocused) {
      login();
    } else if (usernameFocused || passwordFocused) {
      login();
    }
  }
});

    function checkInternetConnection(callback) {
      fetch("https://clients3.google.com/generate_204", { method: "GET", mode: "no-cors" })
        .then(() => callback(true))
        .catch(() => callback(false));
    }

    function saveGraph() {
      const link = document.createElement("a");
      link.download = "ping-graph.png";
      link.href = pingGraph.toDataURL("image/png");
      link.click();
    }

    function renderDashboard() {
      const stats = JSON.parse(localStorage.getItem("loginStats") || "{}");
      const logs = JSON.parse(localStorage.getItem("loginHistory") || "[]");

      let html = "<b>ğŸ“… ÙˆØ±ÙˆØ¯Ù‡Ø§ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡:</b><br>";
      Object.keys(stats).reverse().forEach(date => {
        html += `ğŸ“† ${date} â¤ <b>${stats[date]}</b> ÙˆØ±ÙˆØ¯<br>`;
      });

      const countries = [];
      logs.slice(-50).reverse().forEach(log => {
        const match = log.match(/, ([^,]+),/);
        if (match) {
          const country = match[1].trim();
          if (!countries.includes(country)) countries.push(country);
        }
      });
      html += "<hr><b>ğŸŒ Ûµ Ú©Ø´ÙˆØ± ÙˆØ±ÙˆØ¯ Ø§Ø®ÛŒØ±:</b><br>";
      countries.slice(0, 5).forEach(c => {
        html += `ğŸŒ ${c} <br>`;
      });

      const browsers = {};
      logs.forEach(log => {
        const match = log.match(/ğŸ’» (.+?) \|/);
        if (match) {
          const agent = match[1].trim();
          browsers[agent] = (browsers[agent] || 0) + 1;
        }
      });
      html += "<hr><b>ğŸ’» Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§:</b><br>";
      Object.entries(browsers).forEach(([b, count]) => {
        html += `ğŸ–¥ï¸ ${b} â¤ ${count} Ø¨Ø§Ø±<br>`;
      });

      const devices = {};
      logs.forEach(log => {
        const match = log.match(/device:([a-zA-Z0-9\-]+)/);
        if (match) {
          const deviceID = match[1];
          devices[deviceID] = (devices[deviceID] || 0) + 1;
        }
      });
      html += "<hr><b>ğŸ“± Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§:</b><br>";
      Object.entries(devices).forEach(([id, count]) => {
        html += `ğŸ“Ÿ ${id} â¤ ${count} Ø¨Ø§Ø±<br>`;
      });

      fetch("https://raw.githubusercontent.com/amirkm87/Dns-seting/refs/heads/main/login.json")
        .then(res => res.json())
        .then(data => {
          const now = new Date();
          const total = data.length;
          let active = 0;
          let expired = 0;
          let nearExpire = 0;
          const expireList = [];

          data.forEach(user => {
            const expireDate = new Date(user.expire);
            const diffTime = expireDate - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

            if (diffTime > 0) {
              active++;
              if (diffDays <= 3) nearExpire++;
              expireList.push({ username: user.username, daysLeft: diffDays });
            } else {
              expired++;
            }
          });

          document.getElementById("total-users").textContent = total;
          document.getElementById("active-users").textContent = active;
          document.getElementById("near-expired-count").textContent = nearExpire;
          document.getElementById("expired-users").textContent = expired;

          const percent = Math.floor((active / total) * 100);
          const bar = document.getElementById("active-bar");
          bar.style.width = percent + "%";
          bar.style.background = percent >= 75 ? "linear-gradient(90deg, #00ff88, #00ffaa)" :
                               percent >= 40 ? "linear-gradient(90deg, #ffaa00, #ffdd00)" :
                                               "linear-gradient(90deg, #ff4444, #ff2200)";

          if (window.subscriptionChartInstance) window.subscriptionChartInstance.destroy();
          window.subscriptionChartInstance = new Chart(document.getElementById("subscriptionChart"), {
            type: "doughnut",
            data: {
              labels: ["ÙØ¹Ø§Ù„", "Ù…Ù†Ù‚Ø¶ÛŒ", "Ù…ÙˆÙ†Ø¯Ù‡ Ø¨Ù‡ Ù…Ù†Ù‚Ø¶ÛŒ"],
              datasets: [{
                data: [active - nearExpire, expired, nearExpire],
                backgroundColor: ["#00ff88", "#ff4444", "#ffaa00"],
                borderWidth: 1
              }]
            },
            options: {
              plugins: {
                legend: {
                  labels: { color: "#ccc", font: { family: "Orbitron" } }
                }
              }
            }
          });

          const nearListContainer = document.getElementById("near-expire-list");
          nearListContainer.innerHTML = `<h4 style="color: orange">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù†Ø²Ø¯ÛŒÚ© Ø¨Ù‡ Ø§Ù†Ù‚Ø¶Ø§ (${nearExpire} Ù†ÙØ±)</h4>`;
          expireList.filter(u => u.daysLeft <= 3).forEach(u => {
            nearListContainer.innerHTML += `<p style="color:#ff8800">ğŸ•’ ${u.username}: ${u.daysLeft} Ø±ÙˆØ² Ù…Ø§Ù†Ø¯Ù‡</p>`;
          });
        });

      const notifBox = document.getElementById("notif-list");
      const msgs = JSON.parse(localStorage.getItem("adminMessages") || "[]");
      notifBox.innerHTML = msgs.length === 0 ? "âŒ Ù¾ÛŒØ§Ù…ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª." :
        msgs.slice(-5).reverse().map(m =>
          `<div style="border-bottom:1px solid #444;padding:6px 0;">ğŸ•’ ${m.time}<br>ğŸ“© ${m.msg}</div>`
        ).join("");

      const hourlyData = new Array(24).fill(0);
      logs.forEach(log => {
        const match = log.match(/\d{2}:\d{2}/);
        if (match) {
          const hour = parseInt(match[0].split(":")[0]);
          hourlyData[hour]++;
        }
      });

      new Chart(document.getElementById("hourChart").getContext("2d"), {
        type: "bar",
        data: {
          labels: Array.from({ length: 24 }, (_, i) => `${i.toString().padStart(2, '0')}:00`),
          datasets: [{
            label: "ØªØ¹Ø¯Ø§Ø¯ ÙˆØ±ÙˆØ¯ Ø¯Ø± Ø³Ø§Ø¹Øª",
            data: hourlyData,
            backgroundColor: "#00ffee88",
            borderColor: "#00ffee",
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            x: { ticks: { color: "#ccc", font: { family: "Orbitron", size: 12 } } },
            y: { beginAtZero: true, ticks: { color: "#ccc", stepSize: 1 } }
          },
          plugins: {
            legend: {
              labels: { color: "#00ffee", font: { family: "Orbitron", weight: "bold" } }
            }
          }
        }
      });

      document.getElementById("dashboard-content").innerHTML = html;
    }

    function showLogDetails() {
      const logs = JSON.parse(localStorage.getItem("loginHistory") || "[]");
      const box = document.getElementById("log-details");
      box.innerHTML = `
        <input type="text" id="log-search" placeholder="ğŸ” Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù„Ø§Ú¯..." style="width:100%;padding:8px;margin:10px 0;border-radius:6px;">
        <h3>ğŸ“‹ Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ ÙˆØ±ÙˆØ¯:</h3>
        ${logs.map(log => `<div style="margin-bottom:6px;border-bottom:1px solid #444;padding-bottom:4px;">${log}</div>`).reverse().join("")}
      `;
      box.style.display = "block";

      document.getElementById("log-search").addEventListener("input", function() {
        const keyword = this.value.toLowerCase();
        const filtered = logs.filter(log => log.toLowerCase().includes(keyword));
        box.innerHTML = `
          <input type="text" id="log-search" placeholder="ğŸ” Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù„Ø§Ú¯..." style="width:100%;padding:8px;margin:10px 0;border-radius:6px;">
          <h3>ğŸ“‹ Ù„Ø§Ú¯ Ú©Ø§Ù…Ù„ ÙˆØ±ÙˆØ¯:</h3>
          ${filtered.map(log => `<div style="margin-bottom:6px;border-bottom:1px solid #444;padding-bottom:4px;">${log}</div>`).join("")}
        `;
      });
    }

    function exportLogs(type) {
      const logs = JSON.parse(localStorage.getItem("loginHistory") || "[]");
      if (type === "json") {
        const blob = new Blob([JSON.stringify(logs, null, 2)], { type: "application/json" });
        downloadBlob(blob, "login-history.json");
      } else if (type === "csv") {
        const csv = logs.map(l => `"${l.replace(/"/g, "'")}"`).join("\n");
        const blob = new Blob([csv], { type: "text/csv" });
        downloadBlob(blob, "login-history.csv");
      }
    }

    function downloadBlob(blob, filename) {
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = filename;
      a.click();
      URL.revokeObjectURL(url);
    }

    function renderUserManager() {
      fetch("https://raw.githubusercontent.com/amirkm87/Dns-seting/refs/heads/main/login.json")
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById("user-manager");
          container.innerHTML = data.map((u, i) => `
            <div style="margin-bottom:8px;border-bottom:1px solid #555;padding:6px;">
              ğŸ‘¤ <b>${u.username}</b><br>
              â³ ${u.start.split("T")[0]} â†’ ${u.expire.split("T")[0]}<br>
              <button onclick="deleteUser(${i})" style="margin-top:5px;background:#ff4444;color:#fff;border:none;border-radius:6px;padding:4px 10px;cursor:pointer;">ğŸ—‘ Ø­Ø°Ù</button>
              <button onclick="extendUser(${i})" style="margin-top:5px;background:#00ccff;color:#000;border:none;border-radius:6px;padding:4px 10px;cursor:pointer;margin-left:8px;">â³ ØªÙ…Ø¯ÛŒØ¯ Û· Ø±ÙˆØ²Ù‡</button>
            </div>
          `).join("");
        });
    }

    function deleteUser(index) {
      alert("âŒ Ø§Ù…Ú©Ø§Ù† Ø­Ø°Ù ÙÙ‚Ø· Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø³Ø±ÙˆØ± ÙˆØ§Ù‚Ø¹ÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯.\nğŸ”’ Ø¨Ù‡â€ŒØ¯Ù„Ø§ÛŒÙ„ Ø§Ù…Ù†ÛŒØªÛŒ GitHub ÙÙ‚Ø· Ø®ÙˆØ§Ù†Ø¯Ù†ÛŒ Ø§Ø³Øª.");
    }

    function extendUser(index) {
      alert("â³ ÙÙ‚Ø· Ø¯Ø± Ù†Ø³Ø®Ù‡ Ø³Ø±ÙˆØ± ÙˆØ§Ù‚Ø¹ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§Ø´ØªØ±Ø§Ú© Ø±Ø§ ØªÙ…Ø¯ÛŒØ¯ Ú©Ø±Ø¯.\nğŸ”§ Ù„Ø·ÙØ§Ù‹ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø³Ø±ÙˆØ± backend ÛŒØ§ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† Ø§ØµÙ„ÛŒ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡.");
    }

    function sendMessage() {
      const msg = document.getElementById("user-message").value.trim();
      const username = document.getElementById("username").value.trim().toLowerCase();

      if (username === "admin") {
        alert("â›” Ø§Ø¯Ù…ÛŒÙ† Ù†Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯Ø´ Ù¾ÛŒØ§Ù… Ø¨ÙØ±Ø³ØªÙ‡!");
        return;
      }

      if (!msg) {
        alert("âš ï¸ Ù¾ÛŒØ§Ù… Ù†Ù…ÛŒâ€ŒØªÙˆÙ†Ù‡ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ù‡.");
        return;
      }

      const messages = JSON.parse(localStorage.getItem("adminMessages") || "[]");
      const time = new Date().toLocaleString("fa-IR", { year: 'numeric', month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit', second: '2-digit' });
      messages.push({ time, msg });
      localStorage.setItem("adminMessages", JSON.stringify(messages));

      const telegramMessage = `
ğŸ“¬ <b>Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø§Ø² Ú©Ø§Ø±Ø¨Ø±</b> ğŸ“¬
ğŸ‘¤ <b>Ú©Ø§Ø±Ø¨Ø±:</b> ${username}
ğŸ•’ <b>Ø²Ù…Ø§Ù†:</b> ${time}
ğŸ’¬ <b>Ù¾ÛŒØ§Ù…:</b> ${msg}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
      `.trim();

      sendToTelegram(telegramMessage, TELEGRAM_CHAT_ID, TELEGRAM_BOT_TOKEN).then(success => {
        if (success) {
          alert("âœ… Ù¾ÛŒØ§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.");
        } else {
          alert("âŒ Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ù‡ ØªÙ„Ú¯Ø±Ø§Ù…! Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± Ú©Ù†Ø³ÙˆÙ„.");
        }
      });

      document.getElementById("user-message").value = "";
    }

    function backupData() {
      const users = localStorage.getItem("loginHistory") || "[]";
      const stats = localStorage.getItem("loginStats") || "{}";
      const messages = localStorage.getItem("adminMessages") || "[]";

      const backup = {
        ØªØ§Ø±ÛŒØ®_Ø¨Ú©Ø§Ù¾: new Date().toLocaleString("fa-IR"),
        Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§: JSON.parse(messages),
        ÙˆØ±ÙˆØ¯Ù‡Ø§: JSON.parse(users),
        Ø¢Ù…Ø§Ø±: JSON.parse(stats)
      };

      const blob = new Blob([JSON.stringify(backup, null, 2)], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "backup.json";
      a.click();
      URL.revokeObjectURL(url);
    }

    function voteDNS(id) {
      const key = `dnsScore-${id}`;
      const score = parseInt(localStorage.getItem(key) || "0") + 1;
      localStorage.setItem(key, score);
      document.getElementById(`score-${id}`).innerText = score;
    }

    function filterStats() {
      const from = document.getElementById("from-date").value;
      const to = document.getElementById("to-date").value;
      if (!from || !to) {
        alert("ğŸ—“ Ù„Ø·ÙØ§Ù‹ Ù‡Ø± Ø¯Ùˆ ØªØ§Ø±ÛŒØ® Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.");
        return;
      }

      const stats = JSON.parse(localStorage.getItem("loginStats") || "{}");
      const filtered = Object.entries(stats).filter(([date]) => date >= from && date <= to);

      const labels = filtered.map(([d]) => d);
      const values = filtered.map(([_, v]) => v);

      new Chart(document.getElementById("rangeChart").getContext("2d"), {
        type: "line",
        data: {
          labels: labels,
          datasets: [{
            label: "ÙˆØ±ÙˆØ¯Ù‡Ø§ Ø¯Ø± Ø¨Ø§Ø²Ù‡",
            data: values,
            backgroundColor: "#00ffaa33",
            borderColor: "#00ffaa",
            borderWidth: 2
          }]
        },
        options: {
          scales: {
            y: { beginAtZero: true, ticks: { color: "#fff" } },
            x: { ticks: { color: "#fff" } }
          },
          plugins: {
            legend: { labels: { color: "#fff" } }
          }
        }
      });
    }

const btnLivePing = document.getElementById("btnLivePing");
let isPingActive = false;

btnLivePing.addEventListener("click", () => {
  if (!isPingActive) {
    startLivePing();
    btnLivePing.textContent = "â¹ ØªÙˆÙ‚Ù Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ";
    isPingActive = true;
  } else {
    stopLivePing();
    btnLivePing.textContent = "ğŸ“¡ Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒÙ†Ú¯ Ù„Ø­Ø¸Ù‡â€ŒØ§ÛŒ Ø§ÛŒÙ†ØªØ±Ù†Øª";
    isPingActive = false;
  }
});


    // Initialize
    renderDashboard();
    renderUserManager();
  </script>
</body>
</html>